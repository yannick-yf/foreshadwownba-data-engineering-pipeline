schema: '2.0'
stages:
  gamelog_data_acquisition:
    cmd: python3 -m src.exctract.gamelog_data_acquisition --config=params.yaml
    deps:
    - path: src/exctract/gamelog_data_acquisition.py
      hash: md5
      md5: 0a05e5a11a4942539e3ec5a0788cd8af
      size: 1852
    params:
      params.yaml:
        base:
          log_level: INFO
        gamelog_data_acquisition:
          season: 2024
          team: all
          data_type: gamelog
          output_folder: pipeline_output/gamelog/
  schedule_data_acquisition:
    cmd: python3 -m src.exctract.schedule_data_acquisition --config=params.yaml
    deps:
    - path: src/exctract/schedule_data_acquisition.py
      hash: md5
      md5: c5585dddd99128677b7e19a352c37b29
      size: 1865
    params:
      params.yaml:
        base:
          log_level: INFO
        schedule_data_acquisition:
          season: 2024
          team: all
          data_type: schedule
          output_folder: pipeline_output/schedule/
  player_attributes_data_acquisition:
    cmd: python3 -m src.exctract.player_attributes_data_acquisition --config=params.yaml
    deps:
    - path: src/exctract/player_attributes_data_acquisition.py
      hash: md5
      md5: 1f3c313166d9e94036e774bfe82f68dc
      size: 1982
    params:
      params.yaml:
        base:
          log_level: INFO
        player_attributes_data_acquisition:
          season: 2024
          team: all
          data_type: player_attributes
          output_folder: pipeline_output/player_attributes/
  player_salary_data_acquisition:
    cmd:
    - python3 -m src.exctract.player_salary_data_acquisition  --config=params.yaml
    deps:
    - path: src/exctract/player_salary_data_acquisition.py
      hash: md5
      md5: a4fd24dd517f4f1c1def0886aaf39b6b
      size: 4408
    params:
      params.yaml:
        base:
          log_level: INFO
        player_salary_data_acquisition:
          season: 2024
          data_type: player_salary
          output_folder: pipeline_output/player_salary/
  gamelog_schedule_unification:
    cmd:
    - python3 -m src.transform.gamelog_schedule_unification  --gamelog-data-path ./pipeline_output/gamelog/
      --gamelog-name-pattern gamelog --schedule-data-path ./pipeline_output/schedule/
      --schedule-name-pattern schedule --unified-file-path ./pipeline_output/final/
      --unified-file-name nba_games_training_dataset
    deps:
    - path: src/transform/gamelog_schedule_unification.py
      hash: md5
      md5: 5bc48b386efbe44eed2322d812a1b762
      size: 6184
    params:
      params.yaml:
        base:
          log_level: INFO
        gamelog_data_acquisition:
          season: 2024
          team: all
          data_type: gamelog
          output_folder: pipeline_output/gamelog/
        gamelog_schedule_unification:
          data_path: pipeline_output/final/
          file_name: nba_games_training_dataset
        schedule_data_acquisition:
          season: 2024
          team: all
          data_type: schedule
          output_folder: pipeline_output/schedule/
  player_attributes_salaries_unification:
    cmd:
    - python3 -m src.transform.player_attributes_salaries_unification --schedule-data-path
      ./pipeline_output/schedule/ --schedule-name-pattern schedule --player-attributes-data-path
      ./pipeline_output/player_attributes/ --player-attributes-name-pattern player_attributes
      --player-salary-data-path ./pipeline_output/player_salary/ --player-salary-name-pattern
      player_salary --output-dest-file-path ./pipeline_output/final/ --output-file-name
      player_attributes_salaries_dataset
    deps:
    - path: src/transform/player_attributes_salaries_unification.py
      hash: md5
      md5: 27bcc10f8ec187eeb3b42e1b43bbb18c
      size: 9289
    params:
      params.yaml:
        base:
          log_level: INFO
        player_attributes_data_acquisition:
          season: 2024
          team: all
          data_type: player_attributes
          output_folder: pipeline_output/player_attributes/
        player_attributes_salaries_unification:
          data_path: pipeline_output/final/
          file_name: player_attributes_salaries_dataset
        player_salary_data_acquisition:
          season: 2024
          data_type: player_salary
          output_folder: pipeline_output/player_salary/
        schedule_data_acquisition:
          season: 2024
          team: all
          data_type: schedule
          output_folder: pipeline_output/schedule/
  load_data_to_db:
    cmd: python3 -m src.load.load_data_to_db --config=params.yaml
    deps:
    - path: src/load/load_data_to_db.py
      hash: md5
      md5: b318ffb99f2474d276200eb46464e49e
      size: 2650
    params:
      params.yaml:
        base:
          log_level: INFO
        load_data_to_db:
          test: test
  load_gamelog_schedule_unified_to_db:
    cmd: python3 -m src.load.load_gamelog_schedule_unified_to_db --config=params.yaml
    deps:
    - path: src/load/load_gamelog_schedule_unified_to_db.py
      hash: md5
      md5: efcd218bcbe44b109217e498dc58664e
      size: 2935
    params:
      params.yaml:
        base:
          log_level: INFO
        gamelog_schedule_unification:
          data_path: pipeline_output/final/
          file_name: nba_games_training_dataset
        load_gamelog_schedule_unified_to_db:
          test: test
  load_player_attributes_salaries_unified_to_db:
    cmd: python3 -m src.load.load_player_attributes_salaries_unified_to_db --config=params.yaml
    deps:
    - path: src/load/load_player_attributes_salaries_unified_to_db.py
      hash: md5
      md5: 628c0b60b4c9b2b3b351fc3eb786a3d2
      size: 2984
    params:
      params.yaml:
        base:
          log_level: INFO
        load_player_attributes_salaries_unified_to_db:
          test: test
        player_attributes_salaries_unification:
          data_path: pipeline_output/final/
          file_name: player_attributes_salaries_dataset
