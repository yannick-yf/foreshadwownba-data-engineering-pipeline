schema: '2.0'
stages:
  gamelog_data_acquisition:
    cmd:
    - python3 -m src.exctract.gamelog_data_acquisition  --data-type gamelog --season
      2024 --team all --output-folder ./pipeline_output/gamelog/
    deps:
    - path: src/exctract/gamelog_data_acquisition.py
      hash: md5
      md5: 000cbb76a42b4abe0db24f8e6428f486
      size: 3418
    params:
      params.yaml:
        base:
          log_level: INFO
        gamelog_data_acquisition:
          team: all
          data_type: gamelog
          output_folder: pipeline_output/gamelog/
  schedule_data_acquisition:
    cmd:
    - python3 -m src.exctract.schedule_data_acquisition  --data-type schedule --season
      2024 --team all --output-folder ./pipeline_output/schedule/
    deps:
    - path: src/exctract/schedule_data_acquisition.py
      hash: md5
      md5: 0e8d2cf1865423f6e9311290ad66631a
      size: 3342
    params:
      params.yaml:
        base:
          log_level: INFO
        schedule_data_acquisition:
          team: all
          data_type: schedule
          output_folder: pipeline_output/schedule/
  player_attributes_data_acquisition:
    cmd:
    - python3 -m src.exctract.player_attributes_data_acquisition  --data-type player_attributes
      --season 2024 --team all --output-folder ./pipeline_output/player_attributes/
    deps:
    - path: src/exctract/player_attributes_data_acquisition.py
      hash: md5
      md5: b26f4abfcc576d77867135edfbfdcd26
      size: 3428
    params:
      params.yaml:
        base:
          log_level: INFO
        player_attributes_data_acquisition:
          team: all
          data_type: player_attributes
          output_folder: pipeline_output/player_attributes/
  player_salary_data_acquisition:
    cmd:
    - python3 -m src.exctract.player_salary_data_acquisition  --data-type player_salary
      --season 2024 --output-folder ./pipeline_output/player_salary/
    deps:
    - path: src/exctract/player_salary_data_acquisition.py
      hash: md5
      md5: 34afe34f2c46f8718e61bdf233a0f1c8
      size: 5710
    params:
      params.yaml:
        base:
          log_level: INFO
        player_salary_data_acquisition:
          data_type: player_salary
          output_folder: pipeline_output/player_salary/
  gamelog_schedule_unification:
    cmd:
    - python3 -m src.transform.gamelog_schedule_unification  --gamelog-data-path ./pipeline_output/gamelog/
      --gamelog-name-pattern gamelog --schedule-data-path ./pipeline_output/schedule/
      --schedule-name-pattern schedule --unified-file-path ./pipeline_output/final/
      --unified-file-name nba_games_training_dataset
    deps:
    - path: src/transform/gamelog_schedule_unification.py
      hash: md5
      md5: 5bc48b386efbe44eed2322d812a1b762
      size: 6184
    params:
      params.yaml:
        base:
          log_level: INFO
        gamelog_data_acquisition:
          team: all
          data_type: gamelog
          output_folder: pipeline_output/gamelog/
        gamelog_schedule_unification:
          data_path: pipeline_output/final/
          file_name: nba_games_training_dataset
        schedule_data_acquisition:
          team: all
          data_type: schedule
          output_folder: pipeline_output/schedule/
  player_attributes_salaries_unification:
    cmd:
    - python3 -m src.transform.player_attributes_salaries_unification --schedule-data-path
      ./pipeline_output/schedule/ --schedule-name-pattern schedule --player-attributes-data-path
      ./pipeline_output/player_attributes/ --player-attributes-name-pattern player_attributes
      --player-salary-data-path ./pipeline_output/player_salary/ --player-salary-name-pattern
      player_salary --output-dest-file-path ./pipeline_output/final/ --output-file-name
      player_attributes_salaries_dataset
    deps:
    - path: src/transform/player_attributes_salaries_unification.py
      hash: md5
      md5: 27bcc10f8ec187eeb3b42e1b43bbb18c
      size: 9289
    params:
      params.yaml:
        base:
          log_level: INFO
        player_attributes_data_acquisition:
          team: all
          data_type: player_attributes
          output_folder: pipeline_output/player_attributes/
        player_attributes_salaries_unification:
          data_path: pipeline_output/final/
          file_name: player_attributes_salaries_dataset
        player_salary_data_acquisition:
          data_type: player_salary
          output_folder: pipeline_output/player_salary/
        schedule_data_acquisition:
          team: all
          data_type: schedule
          output_folder: pipeline_output/schedule/
  load_data_to_db:
    cmd: python3 -m src.load.load_data_to_db --config=params.yaml
    deps:
    - path: src/load/load_data_to_db.py
      hash: md5
      md5: b318ffb99f2474d276200eb46464e49e
      size: 2650
    params:
      params.yaml:
        base:
          log_level: INFO
        load_data_to_db:
          test: test
  load_gamelog_schedule_unified_to_db:
    cmd: python3 -m src.load.load_gamelog_schedule_unified_to_db --config=params.yaml
    deps:
    - path: src/load/load_gamelog_schedule_unified_to_db.py
      hash: md5
      md5: d3facad82595bd7d444c99506dd89eb1
      size: 2993
    params:
      params.yaml:
        base:
          log_level: INFO
        gamelog_schedule_unification:
          data_path: pipeline_output/final/
          file_name: nba_games_training_dataset
        load_gamelog_schedule_unified_to_db:
          test: test
  load_player_attributes_salaries_unified_to_db:
    cmd: python3 -m src.load.load_player_attributes_salaries_unified_to_db --config=params.yaml
    deps:
    - path: src/load/load_player_attributes_salaries_unified_to_db.py
      hash: md5
      md5: 9c32f2831234182ebcff1548d5198709
      size: 3129
    params:
      params.yaml:
        base:
          log_level: INFO
        load_player_attributes_salaries_unified_to_db:
          test: test
        player_attributes_salaries_unification:
          data_path: pipeline_output/final/
          file_name: player_attributes_salaries_dataset
  gamelog_data_acquisition@2023:
    cmd:
    - python3 -m src.exctract.gamelog_data_acquisition  --data-type gamelog --season
      2023 --team all --output-folder ./pipeline_output/gamelog/
    deps:
    - path: src/exctract/gamelog_data_acquisition.py
      hash: md5
      md5: 000cbb76a42b4abe0db24f8e6428f486
      size: 3418
    params:
      params.yaml:
        base:
          log_level: INFO
        gamelog_data_acquisition:
          team: all
          data_type: gamelog
          output_folder: pipeline_output/gamelog/
  gamelog_data_acquisition@2024:
    cmd:
    - python3 -m src.exctract.gamelog_data_acquisition  --data-type gamelog --season
      2024 --team all --output-folder ./pipeline_output/gamelog/
    deps:
    - path: src/exctract/gamelog_data_acquisition.py
      hash: md5
      md5: 000cbb76a42b4abe0db24f8e6428f486
      size: 3418
    params:
      params.yaml:
        base:
          log_level: INFO
        gamelog_data_acquisition:
          team: all
          data_type: gamelog
          output_folder: pipeline_output/gamelog/
